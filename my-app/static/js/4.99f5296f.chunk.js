(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{116:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return i}));var c=a(117),n=a.n(c),i={getImages:function(t,a){return n.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat("e538ac8584601a9e9bcd4c35b2315eaa","&tags=").concat(t,"&per_page=10&page=").concat(a,"&format=json&nojsoncallback=1")).then((function(e){return e.data.photos})).catch((function(t){e.stdout.write("Error fetching posts: ",t)}))}}}).call(this,a(97))},169:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(68),i=a(172),o=a.p+"static/media/avatar.67396a8f.jpg",s=a(156),r=a(171),l=a(71),b=a(158),u="#f9ba32",j="#f8f1e5",f="#2f3131",d=Object(s.a)((function(e){return Object(r.a)({backgroundBlock:{backgroundColor:u},logo:{fontSize:e.spacing(3),color:f,fontFamily:"Righteous"}})})),h=Object(l.a)((function(e){return Object(r.a)({badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}})}))(b.a),O=a(3),m=function(){var e=d();return Object(O.jsxs)(n.a,{display:"flex",justifyContent:"space-between",pl:4,pr:4,pt:1,pb:1,className:e.backgroundBlock,children:[Object(O.jsx)(n.a,{display:"flex",alignItems:"center",className:e.logo,children:"Seacrh IMG"}),Object(O.jsx)(h,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",children:Object(O.jsx)(i.a,{alt:"Avatar",src:o})})]})},p=a(28),g=a(13),x=Object(s.a)((function(e){return Object(r.a)({mainBlock:Object(g.a)({display:"flex",backgroundColor:j},e.breakpoints.down("xs"),{display:"block"})})})),k=a(168),v=a(94),S=a(19),y=a(112),w=a(110),C=a.n(w);var I=new(function(){function e(){Object(v.a)(this,e),this.search="",this.page="1",this.pageWithImages=[],this.likeImages=[],this.accessToken=void 0,Object(y.b)(this,{},{autoBind:!0}),this.accessToken="",function(e,t){var a=localStorage.getItem(t);a&&Object(y.c)(e,JSON.parse(a)),Object(y.a)((function(){var a=Object(y.d)(e);localStorage.setItem(t,JSON.stringify(a))}))}(this,"authStore")}return Object(S.a)(e,[{key:"getSearchQuery",value:function(e){this.search=e}},{key:"getpageWithImages",value:function(e){this.pageWithImages=e}},{key:"getLikeImages",value:function(e){this.likeImages=C.a.uniqWith(this.likeImages.concat(e),C.a.isEqual)}},{key:"removedLikedImages",value:function(e){this.likeImages=C.a.remove(this.likeImages,(function(t){return t.id!==e}))}}]),e}()),N=function(e){var t=Object(c.useState)(I.search),a=Object(p.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)("img"),r=Object(p.a)(s,2),l=r[0],b=r[1];return Object(c.useEffect)((function(){e.onSearch(l)})),Object(O.jsx)(n.a,{mx:"auto",width:"80%",children:Object(O.jsx)(k.a,{autoFocus:!0,fullWidth:!0,id:"outlined-search",label:"Search images",type:"search",variant:"outlined",size:"small",onInput:function(e){o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(I.getSearchQuery(i),b(i),e.preventDefault())}})})},L=a(160),B=a(114),W=a.n(B),E=a(96),z=a.n(E),R=Object(s.a)((function(e){return Object(r.a)({btmMenu:{color:f},menuBlock:Object(g.a)({display:"block"},e.breakpoints.down("xs"),{display:"flex",justifyContent:"space-evenly",padding:0}),btmMenuBox:Object(g.a)({},e.breakpoints.down("xs"),{margin:0})})})),F=function(e){var t=Object(c.useState)("found"),a=Object(p.a)(t,2),i=a[0],o=a[1],s=R(),r=function(e){o(e)};return Object(c.useEffect)((function(){e.onSwitchPage(i)}),[i]),Object(O.jsxs)(n.a,{border:2,borderLeft:0,borderColor:"#2f3131",py:2,px:1,className:s.menuBlock,children:[Object(O.jsx)(n.a,{mx:"auto",className:s.btmMenuBox,children:Object(O.jsx)(L.a,{className:s.btmMenu,"aria-label":"Home page",onClick:function(){return r("found")},children:Object(O.jsx)(W.a,{fontSize:"large"})})}),Object(O.jsx)(n.a,{mx:"auto",mt:2,className:s.btmMenuBox,children:Object(O.jsx)(L.a,{className:s.btmMenu,"aria-label":"Home page",onClick:function(){return r("liked")},children:Object(O.jsx)(z.a,{fontSize:"large"})})})]})},M=a(161),P=a(162),H=a(163),_=a(164),A=a(165),J=a(166),T=a(135),q=a.n(T),G=Object(s.a)((function(e){return Object(r.a)({root:Object(g.a)({minWidth:250},e.breakpoints.down("xs"),{minWidth:220}),media:{height:180},btnLikeColor:{color:f},btnRemovLikeColor:{color:u},btnLikeFloat:{float:"right"},btnPagesBlock:Object(g.a)({},e.breakpoints.down("xs"),{textAlign:"center"})})})),Q=a(116),D=function(e){var t=Object(c.useState)(""),a=Object(p.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)("1"),r=Object(p.a)(s,2),l=r[0],b=r[1],u=Object(c.useState)("1"),j=Object(p.a)(u,2),f=j[0],d=j[1],h=Object(c.useState)([]),m=Object(p.a)(h,2),g=m[0],x=m[1],k=Object(c.useState)([]),v=Object(p.a)(k,2),S=v[0],y=v[1],w=Object(c.useState)([]),C=Object(p.a)(w,2),N=C[0],B=C[1],W=G();return Object(c.useEffect)((function(){0!==i.length&&Q.a.getImages(i,l).then((function(e){d(e.pages),x(e.photo.map((function(e){return e}))),I.getpageWithImages(e.photo.map((function(e){return e})))}))}),[i,l]),Object(c.useEffect)((function(){o(e.resultsSearch)}),[e.resultsSearch]),Object(c.useEffect)((function(){B(I.likeImages)}),[]),Object(c.useEffect)((function(){b("1")}),[i]),Object(c.useEffect)((function(){y(I.pageWithImages.map((function(e){var t="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),a=!1;return function(e){var t=N.some((function(t){return t.id===e.id}));a=t}(e),Object(O.jsx)(n.a,{mb:2,children:Object(O.jsxs)(M.a,{className:W.root,children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(H.a,{className:W.media,image:t,title:"Contemplative Reptile"})}),Object(O.jsx)(_.a,{className:W.btnLikeFloat,children:a?Object(O.jsx)(L.a,{onClick:function(){var t;t=e.id,I.removedLikedImages(t),B(I.likeImages)},children:Object(O.jsx)(z.a,{fontSize:"large",className:W.btnRemovLikeColor})}):Object(O.jsx)(L.a,{onClick:function(){var t;t=e,I.getLikeImages(t),B(I.likeImages)},children:Object(O.jsx)(q.a,{fontSize:"large",className:W.btnLikeColor})})})]})},e.id)})))}),[g,N]),Object(O.jsxs)(n.a,{pt:2,children:[Object(O.jsx)(n.a,{textAlign:"right",mx:"auto",width:"80%",className:W.btnPagesBlock,children:Object(O.jsxs)(A.a,{"aria-label":"outlined secondary button group",children:[Object(O.jsx)(J.a,{onClick:function(){return function(){var e=+l;e>1&&(e-=1,b(String(e)))}()},children:"One"}),Object(O.jsxs)(J.a,{disabled:!0,style:{color:"#2f3131"},children:[l," of ",f]}),Object(O.jsx)(J.a,{onClick:function(){return function(){var e=+l;e<+f&&(e+=1,b(String(e)))}()},children:"Three"})]})}),Object(O.jsx)(n.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-around",mt:2,children:S})]})},K=a(136),$=a.n(K),U=Object(s.a)((function(e){return Object(r.a)({root:Object(g.a)({minWidth:220},e.breakpoints.down("xs"),{minWidth:220}),media:{height:180},btnRemovLikeColor:{color:f},btnLikeFloat:{float:"right"}})})),V=function(e){var t=Object(c.useState)([]),a=Object(p.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)([]),r=Object(p.a)(s,2),l=r[0],b=r[1],u=Object(c.useState)(""),j=Object(p.a)(u,2),f=j[0],d=j[1],h=U();return Object(c.useEffect)((function(){b(I.likeImages)}),[f]),Object(c.useEffect)((function(){o(l.map((function(e){var t="https://farm".concat(e.farm,".staticflickr.com/").concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg");return Object(O.jsx)(n.a,{mb:2,children:Object(O.jsxs)(M.a,{className:h.root,children:[Object(O.jsx)(P.a,{children:Object(O.jsx)(H.a,{className:h.media,image:t,title:"Contemplative Reptile"})}),Object(O.jsx)(_.a,{className:h.btnLikeFloat,children:Object(O.jsx)(L.a,{onClick:function(){var t;t=e.id,d(t),I.removedLikedImages(t)},children:Object(O.jsx)($.a,{fontSize:"large",className:h.btnRemovLikeColor})})})]})},e.id)})))}),[l]),Object(O.jsx)(n.a,{pt:2,children:Object(O.jsx)(n.a,{display:"flex",flexWrap:"wrap",justifyContent:"space-around",mt:2,children:i})})},X=function(e){var t=Object(c.useState)(""),a=Object(p.a)(t,2),i=a[0],o=a[1],s=Object(c.useState)("found"),r=Object(p.a)(s,2),l=r[0],b=r[1],u=x(),j=function(e){b(e)};return"found"===l?Object(O.jsxs)(n.a,{minHeight:"500px",className:u.mainBlock,children:[Object(O.jsx)(F,{onSwitchPage:j}),Object(O.jsxs)(n.a,{py:2,width:"100%",children:[Object(O.jsx)(N,{onSearch:function(e){o(e)}}),Object(O.jsx)(D,{resultsSearch:i})]})]}):Object(O.jsxs)(n.a,{minHeight:"500px",className:u.mainBlock,children:[Object(O.jsx)(F,{onSwitchPage:j}),Object(O.jsx)(n.a,{py:2,width:"100%",children:Object(O.jsx)(V,{})})]})},Y=a(173),Z=Object(s.a)((function(e){return Object(r.a)({backgroundBlock:{backgroundColor:u},logo:{fontSize:e.spacing(3),color:j,fontFamily:"Righteous"}})})),ee=function(){var e=Z();return Object(O.jsx)(n.a,{display:"flex",justifyContent:"space-between",pl:4,pr:4,pt:1,pb:1,className:e.backgroundBlock,children:Object(O.jsx)(Y.a,{href:"https://github.com/LexSava/test-app",color:"inherit",target:"_blank",children:"App GitHub"})})};t.default=function(e){return Object(O.jsxs)(n.a,{maxWidth:"1920px",mx:"auto",children:[Object(O.jsx)(m,{}),Object(O.jsx)(X,{}),Object(O.jsx)(ee,{})]})}}}]);
//# sourceMappingURL=4.99f5296f.chunk.js.map